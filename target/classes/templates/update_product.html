<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" >
  <link rel="map" th:href="@{/css/bootstrap.min.css.map}" >
  <link rel="stylesheet" th:href="@{/font4/css/font-awesome.css}">
  <link rel="stylesheet" th:href="@{/css/style.css}" >
  <title>Update Product</title>
</head>
<body style="background-color:#E9ECEF;">
<nav class="navbar navbar-inverse navbar-expand-lg navbar-dark bg-dark static-top">
  <div class="container">
    <a class="navbar-brand" href="#">
      <img th:src="@{/images/white_logo1.png}"  src="./images/white_logo1.png" width="auto" height="60">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
  <div class="container-fluid">
    <ul class="nav navbar-nav">
      <li class="hoverable">
        <a class="nav-link" th:href="@{/admin}" href="./admin.html">Admin Home</a>
      </li>
      <li class="hoverable">
        <a class="nav-link" sec:authorize="isAuthenticated()" th:href="@{/logout}" href="./admin.html">Logout</a>
      </li>
    </ul>
  </div>
  <script src="./javascript/myscripts.js"></script>
</nav>

<div class="container">
  <h3 class="mt-3">Update Product</h3>
  <form th:action="@{/update_product/{id}(id=${product.prod_id})}" method="post" th:object="${product}" enctype="multipart/form-data">
    <div class="row">
      <div class="col-sm-5">

        <input type="hidden" name="id" th:field="*{prod_id}">
        <div class="form-group mt-3">
          <label form="Product Title">Product Title</label>
          <input type="text" class="form-control" required th:field="*{prod_title}" name="name" id="name"
                 placeholder="Product Name">

        </div>
        <div class="form-group mt-3">
          <label form="Product Colour">Product Colour</label>
          <input type="text" class="form-control" required th:field="*{prod_colour}" name="Colour" id="Colour"
                 placeholder="Product Colour">

        </div>

        <div class="form-group mt-3">
          <label form="price">Price</label>
          <input type="number" class="form-control" required th:field="*{price}" name="price" id="price"
                 placeholder="Price">
        </div>
        <div class="form-group mt-3">
          <label form="quantity">Quantity</label>
          <input type="number" class="form-control" required th:field="*{quantity}" name="quantity" id="quantity"
                 placeholder="Quantity">
        </div>

        <div class="form-group mt-3">
          <label form="brand">Select Brand</label>
          <select class="form-control" th:field="*{brand_id}" id="brand" name="brand">
            <option th:each="brand :${brands}"
                    th:value="${brand.brand_id}"
                    th:text="${brand.brand_name}"
            >
          </select>
        </div>
        <div class="form-group mt-3">
          <label for="description">Description</label>
          <textarea class="form-control" rows="5" th:field="*{prod_description}" name="description" id="description" placeholder="Product Description"></textarea>
        </div>
      </div>
      <div class="col-sm-5">
        <div class="form-group mt-3">
          <label form="category">Select Category</label>
          <select class="form-control" th:field="*{cat_id}" id="category" name="category">
            <option th:each="category :${categories}"
                    th:value="${category.cat_id}"
                    th:text="${category.cat_name}"
            >
          </select>
        </div>
        <div class="form-group mt-3">
          <label form="size">Select Size</label>
          <select class="form-control" th:field="*{size}" id="size" name="size">
            <option value="None">None</option>
            <option value="XS">XS</option>
            <option value="S">S</option>
            <option value="M">M</option>
            <option value="L">L</option>
            <option value="XL">XL</option>
          </select>
        </div>
        <p>Product Image</p>
<!--        <div class="custom-file">-->
<!--          <input type="file"  class="custom-file-input" name="productImage" accept="image/jpeg, image/png"  id="productImage"/>-->
<!--          <label class="custom-file-label" for="productImage">Choose file</label>-->
<!--        </div>-->
        <div class="form-group mt-3">
          <img src="#" id="imgPreview" height="100px" width="100px" th:src="@{${'/productImages/' + product.image_path}}" style="margin-top: 20px" alt=" ">
        </div>
        <input type="file" name="productImage" th:value="${product.image_path}">
        <button type="submit" class="btn btn-outline-dark btn-lg px-15 mt-3">Submit</button>
      </div>
    </div>
  </form>
</div>

<footer class="footer-distributed">

  <div class="footer-left">
    <img th:src="@{/images/white_logo1.png}"  src="./images/white_logo1.png">

    <p class="footer-links">
      <a href="#">Home</a>
      |
      <a href="#">About</a>
      |
      <a href="#">Contact</a>
    </p>

    <p class="footer-company-name">Â© 2022 Jagriti store</p>
  </div>

  <div class="footer-center">
    <div>
      <i class="fa fa-map-marker"></i>
      <p><span>Upper Bazar
                        Ranchi, Jharkhand - 834001</span>
      </p>
    </div>

    <div>
      <i class="fa fa-phone"></i>
      <p>+91 22-27782183</p>
    </div>
    <div>
      <i class="fa fa-envelope"></i>
      <p><a href="mailto:support@eduonix.com">support@jagritistores.com</a></p>
    </div>
  </div>
  <div class="footer-right">
    <p class="footer-company-about">
      <span>Jagriti Store</span>
      Jagriti Store is a one stop destination for your family's fashion needs. We give you the opportunity to
      give your wardrobe a makeover with the latest collections from our top brands.
    </p>
    <div class="footer-icons">
      <a href="#"><i class="fa fa-facebook"></i></a>
      <a href="#"><i class="fa fa-twitter"></i></a>
      <a href="#"><i class="fa fa-instagram"></i></a>
      <a href="#"><i class="fa fa-linkedin"></i></a>
      <a href="#"><i class="fa fa-youtube"></i></a>
    </div>
  </div>
</footer>
<script type="text/javascript" th:src="@{/javascript/jquery-3.4.1.slim.min.js}"></script>
<script type="text/javascript" th:src="@{/javascript/popper.min.js}"></script>
<script type="text/javascript" th:src="@{/javascript/bootstrap.bundle.min.js}"></script>
<script type="text/javascript" th:src="@{/javascript/bootstrap.min.js}"></script>
<script>
    function readURL(input){
        if(input.files && input.files[0]){
            var reader = new FileReader();
            reader.onload = function(e){
                $('#imgPreview').attr('src', e.target.result).width(100).height(100);
            }
            reader.readAsDataURL(input.files[0])
        }
    }
    $('#productImage').change(function(){
        readURL(this);
    });
    $(".custom-file-input").on("change", function() {
        var fileName = $(this).val().split("\\").pop();
        $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
    });
</script>
</body>
</html>